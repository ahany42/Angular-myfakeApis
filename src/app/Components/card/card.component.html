<div class="card bg-light" [ngClass]="{'AvailableCar': car.availability,'NotAvailableCar':!car.availability}" style="width:250px;margin:10px;">
    <div *ngIf="!carEdited" class="card-header bg-dark" (click)="ViewCar()"><h4 class="card-title text-light">{{car.car}} <ng-template #OutOfStock >
        <div class="CardSubHeader">
            <h6 class="text-danger">Out Of Stock</h6>  
            <div class="Icons">
                <i *ngIf="!cardViewed" class="fa-solid fa-pen" style="color: #ffffff;" (click)="carEdited = true"></i> 
                <i *ngIf="!cardViewed" class="fa-regular fa-trash-can text-danger" (click)="DeleteCar()"></i>
            </div>
        </div>
       </ng-template>
       <ng-container *ngIf="car.availability;else OutOfStock">
        <div class="CardSubHeader">  
        <h6 class="text-success">Available</h6>
        <div class="Icons">
            <i *ngIf="!cardViewed" class="fa-solid fa-pen" style="color: #ffffff;" (click)="carEdited = true"></i> 
            <i *ngIf="!cardViewed" class="fa-regular fa-trash-can text-danger" (click)="DeleteCar()"></i>
        </div>
        </div>
        </ng-container>
       
    </h4>     
   
    </div>
    <div *ngIf="carEdited" class="card-header bg-dark"  ><h4 class="card-title text-light">
        <input #CarInput type="text" value={{car.car}} class="bg-dark text-light form-control" id="CarInput">
        <div class="CardSubHeader">
        
        </div>
    </h4>     
   
    </div>  
    <ng-container  *ngIf="!carEdited">
        <ng-container *ngIf="!car.availability;else AvailablePlaceholder" >
            <img src="../../../assets/NotAvailablePlaceholder.svg" alt="Placeholder Image" (click)="ViewCar()">
        </ng-container>
        <ng-template #AvailablePlaceholder>
            <img src="../../../assets/AvaialblePlaceholder.svg" alt="Placeholder Image" (click)="ViewCar()">
        </ng-template>
    </ng-container>
    <div *ngIf="!carEdited" class="card-body" (click)="ViewCar()">
        {{car.car_color}} {{car.car_model}} {{car.car_model_year}}
        <br>
        {{car.price}}
    </div>
    <div *ngIf="carEdited" class="card-body">
        <small class="form-text text-muted" #ColorText>Car Color</small>
        <input #ColorInput value={{car.car_color}} class="form-control">
        <small class="form-text text-muted" #ModelText>Car Model</small>
        <input #ModelInput value= {{car.car_model}} class="form-control">
        <small class="form-text text-muted" #YearText>Car Model Year</small>
        <input #YearInput value= {{car.car_model_year}} class="form-control">
        <small class="form-text text-muted" #PriceText>Car Price</small>
        <input #PriceInput value= {{car.price}} class="form-control">
       
    </div>
    <div *ngIf="!carEdited" class="card-footer">
        <ng-container *ngIf="car.availability; else Notify">
            <a href="https://github.com/ahany42"><button class="bg-dark text-light">Buy</button></a>
           </ng-container>
            <ng-template #Notify>
                <a  href="https://github.com/ahany42"><button class="bg-dark text-light">Notify Me</button></a>
            </ng-template>
    </div>
    <div *ngIf="carEdited" class="card-footer">
        <button class="bg-dark text-light" (click)="SaveCard()">Save</button>
        <br>
        <button class="bg-light text-dark" (click)="DiscardCard()">Discard</button>

    </div>
</div>
